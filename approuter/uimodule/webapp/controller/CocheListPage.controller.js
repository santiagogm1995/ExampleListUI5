sap.ui.define(["sap/ui/model/json/JSONModel","../controller/BaseController","../controller/fragmentsController/CocheDetailsPage","../utils/FactoryCall"],function(e,t,o,i){"use strict";return t.extend("test462v1s.test462v1s.controller.CocheListPage",{onInit:function(){this._CocheDetailsPage=new o(this.getView());const e=sap.ui.core.UIComponent.getRouterFor(this.getView());e.getRoute("CocheListPage").attachMatched(this.onRouteMatchedDetail,this)},showWarning:function(){},CellClick:function(){},showError:function(){},Create:function(){this._CocheDetailsPage.open(false)},Update:function(){this._CocheDetailsPage.open(true)},showInfo:function(){},Cancel:function(){},Delete:async function(t){let o=[];this.getView().byId("CocheList").setBusy(true);this.getView().byId("CocheList").getSelectedItems().forEach(e=>o.push(e.mAggregations.cells[0].getText()));await Promise.all(o.map(async e=>{await i.getProvider("ajax").delete("/api","/Coche/",e)}));let s=await i.getProvider("ajax").getAll("/api","/Coches");this.setModel(new e({CocheCollection:s}),"CocheList");this.getView().byId("CocheList").setBusy(false);this.check()},onRouteMatchedDetail:async function(t){let o=t.getParameter("arguments");const s=await i.getProvider("ajax").getAll("/api","/Coches");this.setModel(new e({CocheCollection:s}),"CocheList")},check:function(){const e=this.getView().byId("CocheList").getSelectedContextPaths().length;this.getView().byId("updateButton").setEnabled(e===1);this.getView().byId("deleteButton").setEnabled(e>=1)}})});