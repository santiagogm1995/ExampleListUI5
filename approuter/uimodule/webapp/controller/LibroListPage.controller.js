sap.ui.define(["sap/ui/model/json/JSONModel","../controller/BaseController","../controller/fragmentsController/LibroDetailsPage","../utils/FactoryCall"],function(t,e,i,o){"use strict";return e.extend("test462v1s.test462v1s.controller.LibroListPage",{onInit:function(){this._LibroDetailsPage=new i(this.getView());const t=sap.ui.core.UIComponent.getRouterFor(this.getView());t.getRoute("LibroListPage").attachMatched(this.onRouteMatchedDetail,this)},showWarning:function(){},CellClick:function(){},showError:function(){},Create:function(){this._LibroDetailsPage.open(false)},Update:function(){this._LibroDetailsPage.open(true)},showInfo:function(){},Cancel:function(){},Delete:async function(e){let i=[];this.getView().byId("LibroList").setBusy(true);this.getView().byId("LibroList").getSelectedItems().forEach(t=>i.push(t.mAggregations.cells[0].getText()));await Promise.all(i.map(async t=>{await o.getProvider("ajax").delete("/api","/Libro/",t)}));let s=await o.getProvider("ajax").getAll("/api","/Libros");this.setModel(new t({LibroCollection:s}),"LibroList");this.getView().byId("LibroList").setBusy(false);this.check()},onRouteMatchedDetail:async function(e){let i=e.getParameter("arguments");const s=await o.getProvider("ajax").getAll("/api","/Libros");this.setModel(new t({LibroCollection:s}),"LibroList")},check:function(){const t=this.getView().byId("LibroList").getSelectedContextPaths().length;this.getView().byId("updateButton").setEnabled(t===1);this.getView().byId("deleteButton").setEnabled(t>=1)}})});